<div class="container mb-3" *ngIf="getTeam() && getStats()">
  <div class="row">
    <div class="col-lg-12 header-div">
      <span class="header-span"><b>{{'teams.mainstats' | translate}}</b></span>
    </div>
    <div class="col-12 mt-3">
      <div class="row">
        <div class="col-12 col-lg-3 mt-3 mt-lg-0">
          <mat-card class="text-center">
            <mat-card-content>
              <div class="mb-2 static-text">{{'teams.tournamentsplayed' | translate}}</div>
              <div>{{getTournamentsPlayed()}}</div>
            </mat-card-content>
          </mat-card>
        </div>
        <div class="col-12 col-lg-3 mt-3 mt-lg-0">
          <mat-card class="text-center">
            <mat-card-content>
              <div class="mb-2 static-text">{{'teams.leaguesplayed' | translate}}</div>
              <div>{{getLeaguesPlayed()}}</div>
            </mat-card-content>
          </mat-card>
        </div>
        <div class="col-12 col-lg-3 mt-3 mt-lg-0">
          <mat-card class="text-center">
            <mat-card-content>
              <div class="mb-2 static-text">{{'teams.percentagewon' | translate}}</div>
              <div>{{getWinRatio()}}%</div>
            </mat-card-content>
          </mat-card>
        </div>
        <div class="col-12 col-lg-3 mt-3 mt-lg-0">
          <mat-card class="text-center">
            <mat-card-content>
              <div class="mb-2 static-text">{{'teams.recentresults' | translate}}</div>
              <div class="result">
                <span *ngFor="let match of lastFiveM()" [class.win]="match == 'W'" [class.lose]="match == 'L'"
                  [class.draw]="match == 'D'">{{match}} </span>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
    </div>

    <div class="col-12 header-div"><span class="header-span"><b>{{'teams.matcheshistory' | translate}}</b></span>
    </div>

    <div class="col-12">
      <div class="col-12 mt-3 mt-lg-0">
        <mat-form-field>
          <input matInput (keyup)="applyFilter($event)" placeholder="{{'user.filter' | translate}}">
        </mat-form-field>
      </div>

      <div class="col-12 mt-3 mt-lg-0">
        <table mat-table [dataSource]="getDataSource()" class="mat-elevation-z8 mt-3 mb-3">

          <!-- DATE Column -->
          <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef> {{'teams.date' | translate}} </th>
            <td mat-cell *matCellDef="let element">
              <div class="mobile-label">
                <span>{{'teams.date' | translate}}</span>
              </div>
              <div class="mobile-data">
                <span>{{element.matchDate}}</span>
              </div>
            </td>
          </ng-container>

          <!-- TEAM1 Column -->
          <ng-container matColumnDef="team1">
            <th mat-header-cell *matHeaderCellDef> {{'teams.localteam' | translate}} </th>
            <td mat-cell *matCellDef="let element">
              <div class="mobile-label">
                <span>{{'teams.localteam' | translate}}</span>
              </div>
              <div class="mobile-data">
                <span>{{element.team1}}</span>
              </div>
            </td>
          </ng-container>

          <!-- RESULT Column -->
          <ng-container matColumnDef="result">
            <th mat-header-cell *matHeaderCellDef> {{'championship.result' | translate}} </th>
            <td mat-cell *matCellDef="let element">
              <div class="mobile-label">
                <span>{{'championship.result' | translate}}</span>
              </div>
              <div class="mobile-data">
                <span>{{element.matchResult1}} - {{element.matchResult2}}</span>
              </div>
            </td>
          </ng-container>

          <!-- TEAM2 Column -->
          <ng-container matColumnDef="team2">
            <th mat-header-cell *matHeaderCellDef> {{'teams.visitingteam' | translate}} </th>
            <td mat-cell *matCellDef="let element">
              <div class="mobile-label">
                <span>{{'teams.visitingteam' | translate}}</span>
              </div>
              <div class="mobile-data">
                <span>{{element.team2}}</span>
              </div>
            </td>
          </ng-container>

          <!-- PHASE Column -->
          <ng-container matColumnDef="phase">
            <th mat-header-cell *matHeaderCellDef> {{'championship.phase' | translate}} </th>
            <td mat-cell *matCellDef="let element">
              <div class="mobile-label">
                <span>{{'championship.phase' | translate}}</span>
              </div>
              <div class="mobile-data">
                <span>{{element.phase}}</span>
              </div>
            </td>
          </ng-container>

          <!-- SEELEAGUEORTOURNAMENT Column -->
          <ng-container matColumnDef="seeleagueortournament">
            <th mat-header-cell *matHeaderCellDef> {{'teams.seeleagueortournament' | translate}} </th>
            <td mat-cell *matCellDef="let element">
              <div class="mobile-label">
                <span>{{'teams.seeleagueortournament' | translate}}</span>
              </div>
              <div class="mobile-data">
                <button mat-icon-button color="warn" [routerLink]="['/tournament', element.idChampionship]"
                  *ngIf="element.phase !== null">
                  <i class="material-icons">navigate_next</i>
                </button>
                <button mat-icon-button color="warn" [routerLink]="['/league', element.idChampionship]"
                  *ngIf="element.phase === null">
                  <i class="material-icons">navigate_next</i>
                </button>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
        <mat-paginator class="mat-paginator" [pageSizeOptions]="[10, 20, 30]" showFirstLastButtons class="mt-2">
        </mat-paginator>
      </div>
    </div>
  </div>